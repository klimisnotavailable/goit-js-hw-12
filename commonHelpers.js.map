{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\"use strict\"\n\n\nconst form = document.querySelector(\".search-form\")\nconst formInput = document.querySelector(\".search-input\")\nconst formBtn = document.querySelector(\".form-button\")\n\nconst KEY = '42543604-e9bb6c6b12fe7ca69b0735960';\nconst q = formInput.value;\nconst image_type = \"photo\";\nconst orientation = \"horizontal\";\nconst safesearch = true;\nconst BASE_URL = \"https://pixabay.com/api/\"\n\nconst searchParams = new URLSearchParams({\n    orientation: \"horizontal\",\n    safesearch: true,\n    image_type: \"photo\",\n})\n\nexport const checkForm = function checkForm(formInput) {\n    if (formInput.value.trim() == \"\") {\n        formBtn.setAttribute(\"disabled\", \"disabled\")\n    } else {\n    formBtn.removeAttribute(\"disabled\", \"disabled\")\n    }\n}\n\nexport function createURL() {\n    return `${BASE_URL}?key=${KEY}&q=${formInput.value}&${searchParams}`\n}\n\n","\"use strict\"\n\n\n\nexport function generateMarkup(result) {\n    return result.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li>\n                    <a href=\"${webformatURL}\"><img class=\"large-image\" src=\"${largeImageURL}\" alt=\"${tags}\" width=\"360px\" height=\"152px\" title=\"${tags}\"></a>\n                    <div class=\"image-statistics\">\n\n                    <span>\n                    <h3>Likes</h3>\n                    <p>${likes}</p>                 \n                    </span>\n\n                    <span>\n                    <h3>Views</h3>\n                    <p>${views}</p>\n                    </span>\n\n                    <span>\n                    <h3>Comments</h3>\n                    <p>${comments}</p>\n                    </span>\n\n                    <span>\n                    <h3>Downloads</h3>\n                    <p>${downloads}</p>\n                    </span>\n                    </div>\n                </li>`\n                }).join(\"\")\n}\n\n","\"use strict\"\n\n\n\n\nconst form = document.querySelector(\".search-form\");\nconst formInput = document.querySelector(\".search-input\");\nconst formBtn = document.querySelector(\".form-button\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst KEY = '42543604-e9bb6c6b12fe7ca69b0735960';\nconst q = formInput.value;\nconst image_type = \"photo\";\nconst ORIENATION = \"horizontal\";\nconst SAFESEARCH = true;\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nimport { checkForm, createURL } from \"./js/pixabay-api\";\nimport { generateMarkup } from \"./js/render-functions\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nform.addEventListener(\"input\", (event) => {\n    checkForm(formInput)\n})\n\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault()\n    loader.classList.remove(\"visually-hidden\")\n\n    gallery.innerHTML = \"\";\n\n\n    fetch(createURL())\n    .then(result => result.json())\n    .then(data => {\n\n        if (data.hits.length == 0) {\n            throw new Error(\"No such images!\")\n        }\n\n        gallery.insertAdjacentHTML(\"beforeend\", generateMarkup(data))\n\n        const ligthbox = new SimpleLightbox(\".gallery  a\")\n\n        ligthbox.refresh()\n    })\n    .catch(error => {\n        iziToast.error({\n            message:\"Sorry, there are no images matching your search query. Please try again!\",\n        })\n    })\n        .finally(() => {\n        loader.classList.add(\"visually-hidden\")\n    })\n    \n})\n\n\n"],"names":["formInput","formBtn","KEY","BASE_URL","searchParams","checkForm","createURL","generateMarkup","result","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loader","event","data","SimpleLightbox","error","iziToast"],"mappings":"6vBAGa,SAAS,cAAc,cAAc,EAClD,MAAMA,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAU,SAAS,cAAc,cAAc,EAE/CC,EAAM,qCACFF,EAAU,MAIpB,MAAMG,EAAW,2BAEXC,EAAe,IAAI,gBAAgB,CACrC,YAAa,aACb,WAAY,GACZ,WAAY,OAChB,CAAC,EAEYC,EAAY,SAAmBL,EAAW,CAC/CA,EAAU,MAAM,KAAI,GAAM,GAC1BC,EAAQ,aAAa,WAAY,UAAU,EAE/CA,EAAQ,gBAAgB,WAAY,UAAU,CAElD,EAEO,SAASK,GAAY,CACxB,MAAO,GAAGH,CAAQ,QAAQD,CAAG,MAAMF,EAAU,KAAK,IAAII,CAAY,EACtE,CC1BO,SAASG,EAAeC,EAAQ,CACnC,OAAOA,EAAO,KAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACnF;AAAA,+BACgBN,CAAY,mCAAmCC,CAAa,UAAUC,CAAI,yCAAyCA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,yBAK7HC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,yBAKRC,CAAS;AAAA;AAAA;AAAA,sBAIjB,EAAE,KAAK,EAAE,CAC1B,CC3BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5ChB,EAAY,SAAS,cAAc,eAAe,EACxC,SAAS,cAAc,cAAc,EACrD,MAAMiB,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAGrClB,EAAU,MAgBpBgB,EAAK,iBAAiB,QAAUG,GAAU,CACtCd,EAAUL,CAAS,CACvB,CAAC,EAGDgB,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAgB,EACtBD,EAAO,UAAU,OAAO,iBAAiB,EAEzCD,EAAQ,UAAY,GAGpB,MAAMX,EAAS,CAAE,EAChB,KAAKE,GAAUA,EAAO,MAAM,EAC5B,KAAKY,GAAQ,CAEV,GAAIA,EAAK,KAAK,QAAU,EACpB,MAAM,IAAI,MAAM,iBAAiB,EAGrCH,EAAQ,mBAAmB,YAAaV,EAAea,CAAI,CAAC,EAE3C,IAAIC,EAAe,aAAa,EAExC,QAAS,CAC1B,CAAK,EACA,MAAMC,GAAS,CACZC,EAAS,MAAM,CACX,QAAQ,0EACpB,CAAS,CACT,CAAK,EACI,QAAQ,IAAM,CACfL,EAAO,UAAU,IAAI,iBAAiB,CAC9C,CAAK,CAEL,CAAC"}